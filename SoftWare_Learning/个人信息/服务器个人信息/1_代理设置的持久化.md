
>[!warning] 提示
>推荐使用 [obsidian 软件](https://obsidian.md/), 以获得最好的阅读体验
>点击右上角「书本」![](https://raw.githubusercontent.com/Nekasu/Blog_pics/main/20240910163022.png)图标, 进入阅读模式, 以获得更好的阅读体验！
>
>作者：Nekasu/周肖桐

### 基础代理设置

在 [[1_代理设置_本机ip]] 中有介绍：在 Linux 中，如果需要通过代理访问网络（例如，使用终端访问外部网络资源），可以设置 `http_proxy` 和 `https_proxy` 环境变量。这可以通过 `export` 命令完成。

### 代理持久化

`export` 命令设置的代理只对当前终端会话有效。如果你关闭了当前终端并重新打开一个新的终端，这些代理设置将不再有效。如果你希望让新的终端会话也能使用代理，需要将这些代理设置写入到配置文件中（如 `~/.bashrc`）。

将代理设置写入 `~/.bashrc`

为了每次打开终端时都自动启用代理，可以将 `export` 命令添加到 `~/.bashrc` 文件中。这将使得每次启动新的终端会话时，代理设置都会自动生效。

**步骤：**

1. 打开 `~/.bashrc` 文件：
   ```bash
   vim ~/.bashrc
   ```
2. 在文件末尾添加以下代理设置：
   ```bash
   export http_proxy='http://10.15.138.52:7897'
   export https_proxy='http://10.15.138.52:7897'
   ```
3. 保存并退出编辑器。
4. 使修改生效：
   ```bash
   source ~/.bashrc
   ```

这样，代理设置将在每次开启新的终端时自动生效。

如果你想了解 export 的命令, 可以继续阅读 [[2_终端变量与export命令]]