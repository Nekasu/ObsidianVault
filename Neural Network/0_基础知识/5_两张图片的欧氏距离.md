
# 图片的欧氏距离的作用

一般用于判断两张图片之间的相似程度

# 两个像素之间的欧氏距离

## 1. 如果是两张大小相同的`灰度图`$I_1$和$I_2$

设这两张图在$(x,y)$处的像素的的灰度值分别为$I_1(x,y), I_2(x,y)$, 则这两个对应的像素的欧式距离为
$$\sqrt{\left [I_1(x,y)-I_2(x,y)\right ] ^2}$$
也即两个灰度图<mark style="background: #FF5582A6;">在该像素点处的灰度值之间的"距离"</mark>

## 2. 如果是两张相同大小的`rgb彩色图`$I_1$和$I_2$

<mark style="background: #FF5582A6;">与1相比, 增加了厚度信息</mark>, 需要将各个厚度上的欧氏距离相加. <mark style="background: #FFB8EBA6;">因为有三个通道(厚度为3/特征图数量为3)</mark>, 所以有三个欧氏距离相加

设这两张图在第$x$行,第$y$列, $r$通道$(x,y,r)$上的像素分别为$I_1(x,y,r), I_2(x,y,r)$, 则这两个对应的像素的欧式距离为
$$\sqrt{\left [I_1(x,y,r)-I_2(x,y,r)\right ] ^2}$$
而我们知道, `rgb彩色图像`有三个通道, 分别为`r,g,b`, 因此仅仅考虑一个通道上的像素是不够的, 还需考虑其他两个通道上的像素之间的欧氏距离, 因此可以定义`rgb彩色图像`上两个像素的欧氏距离为
$$\sqrt{\left [I_1(x,y,r)-I_2(x,y,r)\right ] ^2+\left [I_1(x,y,g)-I_2(x,y,g)\right ] ^2+\left [I_1(x,y,b)-I_2(x,y,b)\right ] ^2}$$

可以理解为, 将彩色图片看成三个`类似于灰度图`的`单层图片`, 将`各个层次上`的欧氏距离相加即可

## 3.  如果是两张相同大小的`任意厚度图片`$I_1$和$I_2$

假设这个图片的厚度/通道数/特征图数量为$C$

<mark style="background: #FF5582A6;">与2相比, 厚度信息进一步增加</mark>. <mark style="background: #FFB8EBA6;">因为有C个通道(厚度为C/特征图数量为C)</mark>, 所以有$C$个欧氏距离相加

假设这两张图在第$x$行,第$y$列, 第$i$层厚度$(x,y,i)$上的像素分别为$I_1(x,y,i), I_2(x,y,i)$, 则这两个对应的像素的欧式距离为
$$\sqrt{\sum_{i=1}^C \left [I_1(x,y,i)-I_2(x,y,i) \right ]^2}$$

# 两张图片之间的欧氏距离

与[[5_两张图片的欧氏距离#两个像素之间的欧氏距离|两个像素之间的欧氏距离相比]], 增加了长度信息和宽度信息, <mark style="background: #FFB8EBA6;">因此需要在长度上累加, 并在宽度上累加</mark>, `是所有像素的欧氏距离之和`, 因此可以有

## 1. 如果是两张大小相同的`灰度图`$I_1$和$I_2$

设这两张灰度图的在长度上有$L$个像素, 在宽度上有$W$个像素, 厚度仅有一层, 则该图像的欧氏距离为`所有像素的欧氏距离之和`, 为

$$\sqrt{\sum_{x=1}^H\sum_{y=1}^W \left [I_1(x,y)-I_2(x,y) \right ]^2}$$
$I_1(x,y), I_2(x,y)$分别为两个`处于第x行, 第y列`的像素, 上式中的两个加和运算的作用是将图片上所有像素的欧式距离都相加

## 2. 如果是两张相同大小的`rgb彩色图`$I_1$和$I_2$

<mark style="background: #FF5582A6;">与1相比, 增加了厚度信息</mark>, 需要将各个厚度上的欧氏距离相加. <mark style="background: #FFB8EBA6;">因为有三个通道(厚度为3/特征图数量为3)</mark>, 所以有三个欧氏距离相加

设这两张灰度图的在长度上有$L$个像素, 在宽度上有$W$个像素, 厚度为3, 则该图像的欧氏距离为`所有像素的欧氏距离之和`, 为

$$\sqrt{\sum_{x=1}^H\sum_{y=1}^W  \left \{ \left [I_1(x,y,r)-I_2(x,y,r) \right ]  ^2  + \left [I_1(x,y,g)-I_2(x,y,g) \right ]  ^2+\left [I_1(x,y,b)-I_2(x,y,b) \right ]  ^2 \right\}}$$

$I_1(x,y,r), I_2(x,y,r)$分别为两个`处于第x行, 第y列, r通道上`的像素, 上式中的两个加和运算的作用是将图片上所有像素的欧式距离都相加

## 3.  如果是两张相同大小的`任意厚度图片`$I_1$和$I_2$

<mark style="background: #FF5582A6;">与2相比, 厚度信息进一步增加</mark>. <mark style="background: #FFB8EBA6;">因为有C个通道(厚度为C/特征图数量为C)</mark>, 所以有$C$个欧氏距离相加

设这两张灰度图的在长度上有$L$个像素, 在宽度上有$W$个像素, 厚度为$C$, 则该图像的欧氏距离为`所有像素的欧氏距离之和`, 为
$$\sqrt{\sum_{x=1}^H\sum_{y=1}^W \sum_{l=1}^C\left [I_1(x,y,l)-I_2(x,y,l) \right ]^2}$$
$I_1(x,y,l), I_2(x,y,l)$分别为两个`处于第x行, 第y列, 第l层`的像素, 上式中的三个加和运算的做用是将图片上所有像素的欧式距离都相加