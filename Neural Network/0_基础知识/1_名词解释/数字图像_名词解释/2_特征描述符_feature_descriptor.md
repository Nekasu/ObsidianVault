
>[!warning] 提示
>点击右上角「书本」![[Pasted image 20231125105318.png]]图标, 进入阅读模式, 以获得更好的阅读体验！

>[!tips] 声明
>本笔记转载并翻译自自[# What Is a Feature Descriptor in Image Processing?](https://www.baeldung.com/cs/image-processing-feature-descriptors)

特征描述符就是对图像中「某个感兴趣的点」的编码, 一般是向量编码

# 1 引言

在本教程中, 我们将
1. 学习什么是「特征描述符」, 并介绍为何此概念在数字图像处理中是一个关键的概念.
2. 理解如何使用特征向量描述图像中的兴趣点 (Interst Points)
3. 如何使用「特征描述符」在不同图像中定义相似的兴趣点

# 2 为何要使用「特征描述符」？

「特征描述符」描述了一个兴趣点, 并将这种描述编码为一个在向量空间中的「多尺度特征向量」

## 2.1 兴趣点 (Interst Points)

**图像中能够吸引人的纹理可以称为一个「兴趣点」**. 一个兴趣点可以是两个或多个边缘的交界, 也可以是物体边界快速变换方向上的一点

在图像空间中, 一个兴趣点往往能够轻易的被人发现, 或者能够可以轻易在图像中定位. 即使图像的尺度、角度、明暗信息在局部或全局上产生了改变, 兴趣点依旧是兴趣点. 因此, 不论图像如何变换, 我们都可以轻松且精确地计算出图像中的兴趣点, 并且能够通过他们推断出一些信息.

## 2.2 特征描述符 (Feature Descriptors)

「特征描述符」是一种方法, 该方法用于提取对某个「兴趣点」或整张图像的描述. 
我们可以将「特征描述符」与「指纹」进行类比, 「特征描述符」是某个兴趣点的编码. 特征描述符可以是对兴趣点的任何文本或数学逻辑描述 (往往是一串数字, 被称为特征向量). 

我们可以通过「特征描述符」这种「数字指纹」, 将一个兴趣点与另一个兴趣点相区分.

特征是完成特定任务所需的计算的重要数据部分。图像中的特征可以是特定元素，如点、边缘或某个特定物体。

**「特征描述符」是以「数值编码」的形式从图像中检索的信息，这些信息对人类来说很难理解和相关联。如果将图像视为数据，则特征是从数据中提取的细节。**

从图像中提取的特征的维度通常明显小于原始图像的维度。降维可以减少与图像处理相关的处理成本。

## 2.3 特征向量

- 「特征向量」是「特征描述符」的数学表示
- **特征描述符的数学表示是一个或多个维度的向量，称为特征向量。**

特征向量是一个线性向量，沿着多维特征空间编码特征描述符，而特征描述符可以是对兴趣点的任何文本或数学逻辑描述。

特征向量是一个包含有关对象的各种信息的向量。我们可以通过组合对象特征向量来创建一个描述该对象的特征空间。这些特征共同表示单个像素或整个图像。

我们想要某以对象的什么方面的信息, 决定了特征向量中所需的详细程度。
- 如果我们想要用特征向量描述一个正方体的体积, 那么该特征向量中可能只有一个数
- 如果我们想要用特征向量描述一个正方体的体积、在图像中的位置, 那么我们的特征向量可能需要更长一些

## 2.4. 对应问题

- 在计算机视觉中, 一个至关重要的问题是「对应」。
- 术语「对应问题」指的是：当相机移动、时间流逝或被摄对象移动并产生变化时, 如何确定一个图像中的哪些元素与另一个图像中的哪些元素想对应的问题。

对应问题是指：在一个图像 $A$ 中存在一组点 $P_1$, 我们需要在另一张图片 $B$ 中识别出与该组点 $P_1$ 对应的一组点 $P_2$ 

图像 $A$ 与 $B$ 可以是同一个 3D 场景的两个或更多照片中的相同点，这些照片是从不同角度拍摄的。

为了做到这一点，我们通过将一个图像中的点或特征与另一个图像中的点或特征进行匹配来建立对应的点或特征。

# 3 特征空间 (Feature Space)

“向量空间”这一概念指的是由向量组成的空间，以及向量相加和向量与标量相乘的结合和分配运算 (具体请参照矩阵论中关于向量空间的定义)。

我们可以通过组合某个物体的特征向量来创建一个特征空间。

## 3 .1. 特征空间的维度  

特征空间中的任何一点都包含一个独特的特征向量。例如，一个二维特征空间将有两个标量维度。然后，我们可以在这个二维空间上定位任何两个标量的组合。在赋予每个维度意义后，我们把这个区域变成了这些意义所有可能串联的描述空间。

我们知道维度是用来表示属性（如位置、颜色、强度、邻域等）的数据列的数量。在分类或聚类数据以获取有用信息时，我们必须选择使用的维度和列。特征空间中的维度数量随着我们想要表示的详细程度的增加而增加。

## 3 .2. 特征空间中的特征向量  

特征向量是 $n$ 维特征空间中的一个点。
对于简单的情况，我们可以考虑一个三维的物理空间，其中一个特征向量就是一个三维坐标。

然而，在图像处理中，特征向量可能涵盖数百个维度。
因此，试图使用三维空间的概念来套用高维空间可能也不太好理解。

简单来说，特征向量是一个长长的标量列表，其中每个标量都代表描述所观察对象的不同方式。

由于特征空间的特性经常是相互关联的，我们可以将特征向量转换为嵌入 ([[3_嵌入空间_embedding_space|embedding]]). 简单来说, 一个「嵌入 ([[3_嵌入空间_embedding_space|embedding]])」是一个将高维向量降到低维的过程, 忽略我们不感兴趣的维度

使用嵌入 (embedding)，我们可以进一步简化机器学习问题。

## 3.3 特征向量间的相似度评估

我们必须评估两个特征向量之间的相似程度，以解决 [[2_特征描述符_feature_descriptor#2.4. 对应问题|对应问题]]。

在评价两个特征向量的相似度时, 往往不能用“相似”或“不相似”评价，而是应该使用一个分数，表明一个特征向量与另一个特征向量的相似程度。

向量之间最典型的三种比较方式是：
1. 向量终点之间的欧几里得距离
2. 向量之间夹角的余弦值
3. 向量的点积

在计算相似度时, 这些特征向量或嵌入 ([[3_嵌入空间_embedding_space|embedding]]) 被发送到相似度度量函数，然后为其计算一个相似度分数。

现在，通过查看不同图像中两个兴趣点的相似程度, 我们可以确定这两个兴趣点是否是指的是同一个物体。在对应问题中，我们专门设置了解决这个问题的方法。在图像处理和计算机视觉中，相似度度量和特征向量通常会被用到。

# 4 「特征描述符」的不同类型

根据使用方式的不同, 我们可以从图像中获取两种不同的特征：局部特征与全局特征. 

我们可以使用「局部特征描述符」来描述「局部特征」, 使用「全局特征描述符」来描述全局特征.

一般而言，
- 我们在低级别应用（如对象检测和分类）中利用全局特征
	- 低级别应用通常指的是对图像中的基本特征进行处理和分析，例如边缘检测、色彩提取、纹理分析等。
	- 这些任务通常需要对图像的像素级别进行处理，并且关注于图像的局部特征。
- 而在高级别应用（如对象识别）中使用局部特征
	- 高级别应用则涉及更复杂的图像理解和认知任务，例如对象识别、场景理解、行为分析等。
	- 这些任务需要对图像中的语义信息进行分析和推断，通常涉及到更高层次的语义理解和推理过程。
- 尽管增加了处理开销，但全局和局部特征的结合提高了识别准确性。

值得一提的是, 检测和识别之间存在较大的区别。检测是指在图像中找到任何物体或检测到物体的存在。而识别则是确定被检测到的物体的身份。

## 4.1 局部特征描述符

**局部特征代表了一个图像的纹理信息.** 一个「局部特征描述符」描述了图像中的一个小块 (patch). 

使用多个「局部特征描述符」比使用单个「局部特征描述符」更具有灵活性. 

以下是一些常见的局部特征描述符： IFT, SURF, LBP, BRISK, MSER, FREAK

## 4.2 全局特征描述符

局部特征描述了物体图像内部的某些主要区域，而全局特征描述了整个图像以对整体进行概括。

轮廓表示、形状描述符和纹理特征是全局特征的示例。

全局描述符包括形状矩阵、不变矩、直方图定向梯度（HOG）、光流直方图（HOF）和运动边界直方图（MBH）等内容。

以下是采样兴趣点及其轨迹（密集轨迹）的示例，通过组合 HOG、HOF 和 MBH 特征向量，生成非常长的特征向量。我们可以认为这是下一节讨论的特征匹配工作流的高级用例之一。

![400](https://www.baeldung.com/wp-content/uploads/sites/4/2022/09/Very-Long-Feature-Vectors-957x1024.png)


# 特征匹配工作流

该示例中用于识别特定物体的技术的基础是在参考图像和目标图像之间识别点对应关系。即使存在尺度变化或平面内旋转，该技术仍然可以检测到物体。它也对小的平面外旋转和遮挡具有一定的抵抗能力。

![400](https://www.baeldung.com/wp-content/uploads/sites/4/2022/09/Feature-Matching-Problem-Statement.png)

上述图像对是一个特征匹配问题陈述。目标图像是图像处理算法希望在场景图像中准确定位的目标。关于目标是否存在于图像中，没有任何信息可用。唯一的假设是图像中只有一个目标实例（如果存在）。现在我们将按照给定问题的特征匹配工作流程进行操作。我们还将讨论如果在图像中未找到目标或者在图像中找到了多个目标时会发生什么。

## 5. 1 识别兴趣点

特征匹配工作流程中的第一步是识别兴趣点。虽然场景中可能有成千上万个兴趣点，但我们通常只考虑前几百个兴趣点。这主要是为了减少计算需求，因为只有少数几个精确匹配就足以自信地定位目标。在两张照片中找到兴趣点：

![400](https://www.baeldung.com/wp-content/uploads/sites/4/2022/09/Interest-Points.png)

## 5.2 描述特征

现在，我们为每个选定用于检查的兴趣点计算特征向量。我们在目标图像和场景图像中都这样做。在两张照片中，我们挑选出感兴趣的特征描述符：

![400](https://www.baeldung.com/wp-content/uploads/sites/4/2022/09/Feature-Vectors.png) 

上图给出了特征向量的视觉表示。实际上，每个特征向量都是一个长长的标量数字列表，有时高达数百维度。

## 5.3 通过匹配特征来匹配点

一旦我们有了特征向量，下一步就是将它们进行匹配。这通常使用特征向量的相似性度量之一来完成。其中一种方法是使用汉明距离进行蛮力匹配。汉明距离是指在两个等长字符串中，对应位置上不相同的字符的个数。

另一种方法是使用 David Lowe 的比率测试进行蛮力匹配。我们使用这种方法来处理 SIFT 特征描述符。Lowe 建议使用这个比率测试来加强 SIFT 算法。这个测试的目的是排除不够明显的匹配点。其主要原则是第一最佳匹配和第二最佳匹配应该彼此之间有足够大的差异。

通常，我们需要更先进的参数绘制技术，这样可以使用 FLANN（Fast Library for Approximate Nearest Neighbors）匹配器来仅绘制出清晰的匹配，而不是使用蛮力匹配器。我们将利用一个 k 维树，这是一种替代的数据结构组织方法，来创建 FLANN 参数。K 维树是计算机科学中用于组织 k 维空间中的点的一种空间划分数据结构。

匹配的结果通常包括离群值。我们可以看到，大多数匹配点都正确指向了被检测到的对象：

![600](https://www.baeldung.com/wp-content/uploads/sites/4/2022/09/Matched-Features-Plus-Outliers.png)

## 5.4 估计几何变换

在特征匹配算法之后，我们使用几何信息来去除离群值。假设被检测的对象是一个刚体，没有物理变形, 且场景图像包含具有不同尺度和/或旋转的对象。我们便可以利用这些信息来去除离群值。在去除离群值时，确定连接匹配点的变换。经过这种变化后，我们能够在场景中定位对象：

![600](https://www.baeldung.com/wp-content/uploads/sites/4/2022/09/Matched-Features.png)

在场景中只有一个对象实例的假设通常需要减轻。在这种情况下，用于个别匹配的几何变换会聚集成多个组，每个组代表被检测到的对象的一个实例。同样，我们可以确定连接每个实例的匹配点的变换。

如果场景中没有对象存在，那么一个几何变换的分组也不会存在。

# 6 总结

在本文中，我们学习了关于特征描述符、特征向量和特征空间的知识。我们了解了如何使用特征向量来描述图像中的兴趣点。我们了解到特征匹配工作流程包括检测特征、使用特征向量描述它们，然后匹配它们以识别相同的兴趣点。